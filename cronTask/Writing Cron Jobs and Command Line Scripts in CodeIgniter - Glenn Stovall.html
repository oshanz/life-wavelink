<!DOCTYPE html>
<!-- saved from url=(0098)http://glennstovall.com/blog/2013/01/07/writing-cron-jobs-and-command-line-scripts-in-codeigniter/ -->
<html class=" js video maskImage placeholder" lang="en"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/form"></script><script type="text/javascript" src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/form(1)"></script><script type="text/javascript" src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/visit"></script>
  <!-- 7D65FDE2-129B-4399-AB33-1C7786CFDBAB -->
  <meta charset="utf-8">
  <title>Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall</title>
  <meta name="author" content="Glenn Stovall">

  
  <meta name="description" content="Building a command line interface into your application can be a way to add extra utility to you application. Adding cron jobs (a.k.a. scheduled …">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">

  
  <link rel="canonical" href="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall.html">
  <link href="http://glennstovall.com/favicon.png" rel="icon">
  <link href="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/cb=gapi.loaded_1" async=""></script><script src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/cb=gapi.loaded_0" async=""></script><script type="text/javascript" async="" src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/5248425.js"></script><script type="text/javascript" async="" src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/plusone.js" gapi_processed="true"></script><script id="facebook-jssdk" src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/all.js"></script><script type="text/javascript" async="" src="http://www.google-analytics.com/ga.js"></script><script src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/modernizr-2.0.js"></script>
  <script src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/ender.js"></script>
  <script src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/octopress.js" type="text/javascript"></script>
  <script type="text/javascript">
   function overlay() {
     el = document.getElementById("overlay");
     el.style.visibility = (el.style.visibility == "visible") ? "hidden" : "visible";
   }
  </script>
  <link href="http://glennstovall.com/atom.xml" rel="alternate" title="Glenn Stovall" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/css" rel="stylesheet" type="text/css">
<!-- 7D65FDE2-129B-4399-AB33-1C7786CFDBAB -->

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-2427296-13']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
   
  </script>


<script type="text/javascript" async="" src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/widgets.js"></script><style type="text/css">
  /* === Form-Specific Styles === */

  #drip-2911 {
    background: rgb(0,0,0) !important;
    background: rgba(0,0,0,0.80) !important;
  }

  #drip-2911 .drip-content h3 {
    color: #333333 !important;
    font-size: 21px !important;
  }

  #drip-2911 input[type='submit'] {
    background-color: #333333 !important;
  }
  
  #drip-2911 input[type='submit']:hover {
    background-color: #191919 !important;
  }
  
  #drip-2911 input[type='submit']:active {
    background-color: #000000 !important;
  }

  #drip-2911 dl dt,
  #drip-2911 .drip-content p.description,
  #drip-2911 .drip-errors {
    font-size: 14px !important;
  }

  #drip-2911 input[type='text'], 
  #drip-2911 input[type='email'] {
    font-size: 15px !important;
  }

  #drip-2911 input[type='submit'] {
    font-size: 13px !important;
  }
  
  /* === Reset styles === */
  
  /* #drip-2911 h1,
  #drip-2911 h2,
  #drip-2911 h3,
  #drip-2911 div,
  #drip-2911 dl,
  #drip-2911 dt,
  #drip-2911 p,
  #drip-2911 a {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
  }
  
  #drip-2911 a {
    text-decoration: none;
  } */
  
  .drip-tab h1,
  .drip-tab h2,
  .drip-tab h3,
  .drip-tab div,
  .drip-tab dl,
  .drip-tab dt,
  .drip-tab dd,
  .drip-tab p,
  .drip-tab a,
  .drip-tab input,
  .drip-tab input[type=text],
  .drip-tab input[type=email],
  .drip-tab input[type=submit] {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
    float: none;
    width: auto;
    background-image: none;
    letter-spacing: 0;
    -webkit-box-shadow: none;
       -moz-box-shadow: none;
            box-shadow: none;
    -webkit-text-shadow: none !important;
       -moz-text-shadow: none !important;
            text-shadow: none !important;
  }
  
  .drip-tab a {
    text-decoration: none;
  }
  
  .drip-tab :focus {
    outline: 0;
  }

  .drip-tab input::-webkit-input-placeholder { /* WebKit browsers */
    color: #999999 !important;
  }
  .drip-tab input:-moz-placeholder { /* Mozilla Firefox 4 to 18 */
    color: #999999 !important;
  }
  .drip-tab input::-moz-placeholder { /* Mozilla Firefox 19+ */
    color: #999999 !important;
  }
  .drip-tab input:-ms-input-placeholder { /* Internet Explorer 10+ */
    color: #999999 !important;
  }
  
  /* === Clearfix === */

  .drip-clearfix:after {
    visibility: hidden;
    display: block;
    font-size: 0;
    content: " ";
    clear: both;
    height: 0;
  }
  * html .drip-clearfix             { zoom: 1; } /* IE6 */
  *:first-child+html .drip-clearfix { zoom: 1; } /* IE7 */

  /* === Main Container === */

  .drip-tab {
    margin: 0;
    padding: 0;
    position: fixed;
    font-size: 100%;
    font: inherit;
    z-index: 10000;
    color: #333;
    vertical-align: baseline;
    text-align: left;
    -webkit-box-shadow: 0px 0px 20px rgba(0,0,0,0.25);
       -moz-box-shadow: 0px 0px 20px rgba(0,0,0,0.25);
            box-shadow: 0px 0px 20px rgba(0,0,0,0.25);
  }

  .drip-tab.bottom {
    width: 340px;
    bottom: -800px;
    -webkit-border-radius: 8px 8px 0 0;
       -moz-border-radius: 8px 8px 0 0;
            border-radius: 8px 8px 0 0;    
    -webkit-transition: bottom 200ms ease-in;
       -moz-transition: bottom 200ms ease-in;
         -o-transition: bottom 200ms ease-in;
            transition: bottom 200ms ease-in;
  }

  .drip-tab.bottom.left {
    left: 40px;
  }

  .drip-tab.bottom.right {
    right: 40px;
  }

  .drip-tab.side.right {
    width: 390px;
    top: 150px;
    right: -480px;
    -webkit-border-radius: 8px 0 0 8px;
       -moz-border-radius: 8px 0 0 8px;
            border-radius: 8px 0 0 8px;
    -webkit-transition: right 200ms ease-in;
       -moz-transition: right 200ms ease-in;
         -o-transition: right 200ms ease-in;
            transition: right 200ms ease-in;
  }  

  .drip-tab.side.left {
    width: 390px;
    top: 150px;
    left: -480px;
    -webkit-border-radius: 0 8px 8px 0;
       -moz-border-radius: 0 8px 8px 0;
            border-radius: 0 8px 8px 0;
    -webkit-transition: left 200ms ease-in;
       -moz-transition: left 200ms ease-in;
         -o-transition: left 200ms ease-in;
            transition: left 200ms ease-in;
  }

  .drip-tab.mobile {
    width: 100% !important;
    bottom: -800px;
    left: 0;
    -webkit-border-radius: 0;
       -moz-border-radius: 0;
            border-radius: 0;
    -webkit-transition: bottom 200ms ease-in;
       -moz-transition: bottom 200ms ease-in;
         -o-transition: bottom 200ms ease-in;
            transition: bottom 200ms ease-in;
  }
  
  .drip-scroll.scroll {
    overflow-y: scroll;
  }
  
  /* === Header === */

  .drip-tab .drip-header {
  }

  .drip-tab.bottom .drip-header, 
  .drip-tab.mobile .drip-header {
    position: relative;
    margin: 5px 0 0 0;
    padding: 0;
  }
  
  .drip-tab.side .drip-header {
    position: absolute;
    width: 40px;
    top: 0;
    bottom: 0;
  }

  .drip-tab.side.left .drip-header {
    right: 0;
  }

  .drip-tab.side.right .drip-header {
    left: 0;
  }

  .drip-tab .drip-header.hide {
    display: none;
  }

  /* === Header Toggle === */

  .drip-tab .drip-toggle {
    display: block;
    text-decoration: none;
  }

  .drip-tab.bottom .drip-toggle,
  .drip-tab.mobile .drip-toggle {
    padding: 0 20px;
  }

  .drip-tab .drip-toggle.hide {
    display: none;
  }

  /* === Teaser === */

  .drip-tab .drip-header h2 {
    display: block;
    margin: 0 !important;
    padding: 0 !important;
    border: 0 !important;
    font-size: 14px !important;
    line-height: 1.5 !important;
    font-weight: bold !important;
    text-align: left !important;
    color: #fff !important;
    clear: none !important;
    letter-spacing: 0 !important;
  }

  .drip-tab.bottom .drip-header h2, 
  .drip-tab.mobile .drip-header h2 {
    padding: 5px 25px 5px 0 !important;
    width: auto !important;
  }

  .drip-tab.side .drip-header h2 {
    position: absolute !important;
    padding: 0 20px 0 0 !important;
    -webkit-box-sizing: border-box !important;
       -moz-box-sizing: border-box !important;
            box-sizing: border-box !important;
    left: -132px; /* -w/2 + padding */
    top: 185px; /* h/2 - padding */
    width: 380px;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
  }

  .drip-tab.side.left .drip-header h2 {
    -webkit-transform: rotate(90deg) !important; 
       -moz-transform: rotate(90deg) !important;
        -ms-transform: rotate(90deg) !important;
         -o-transform: rotate(90deg) !important;
            transform: rotate(90deg) !important;
  }

  .drip-tab.side.right .drip-header h2 {
    -webkit-transform: rotate(-90deg) !important; 
       -moz-transform: rotate(-90deg) !important;
        -ms-transform: rotate(-90deg) !important;
         -o-transform: rotate(-90deg) !important;
            transform: rotate(-90deg) !important;
  }

  /* === Arrows === */

  .drip-tab .drip-header span.arrow {
    display: block;
    position: absolute;
    margin: -3px 0 0 0;
    padding: 0;
    width: 0;
    height: 0;
  }

  .drip-tab.bottom .drip-header span.arrow, 
  .drip-tab.mobile .drip-header span.arrow {
    top: 15px;
    right: 20px;
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
  }

  .drip-tab.bottom .drip-header span.arrow.down, 
  .drip-tab.mobile .drip-header span.arrow.down {
    border-top: 6px solid #fff;
    border-bottom: 0;
  }

  .drip-tab.bottom .drip-header span.arrow.up, 
  .drip-tab.mobile .drip-header span.arrow.up {
    border-bottom: 6px solid #fff;
    border-top: 0;
  }

  .drip-tab.side .drip-header span.arrow {
    right: 15px;
    border-top: 6px solid transparent;
    border-bottom: 6px solid transparent;
  }

  .drip-tab.side.left .drip-header span.arrow {
    bottom: 15px;
  }

  .drip-tab.side.right .drip-header span.arrow {
    top: 15px;
  }

  .drip-tab.side.right .drip-header span.arrow.down,
  .drip-tab.side.left .drip-header span.arrow.up {
    border-left: 6px solid #fff;
    border-right: 0;
  }

  .drip-tab.side.right .drip-header span.arrow.up,
  .drip-tab.side.left .drip-header span.arrow.down {
    border-right: 6px solid #fff;
    border-left: 0;
  }

  /* === Content Containers === */

  .drip-tab .drip-content {

  }

  .drip-tab.bottom .drip-content, 
  .drip-tab.mobile .drip-content {
    padding: 5px;
  }

  .drip-tab.side .drip-content {
    position: absolute;
    padding: 5px; /* 5px 0 */
    width: 340px;
    top: 0;
  }

  .drip-tab.side.left .drip-content {
    left: 0;
  }

  .drip-tab.side.right .drip-content {
    left: 40px;
  }

  .drip-tab .drip-content > div.drip-panel {
    padding: 15px;
    background-color: #fff;
    -webkit-border-radius: 6px;
       -moz-border-radius: 6px;
            border-radius: 6px;
  }

  /* 
  .drip-tab.bottom .drip-content > div.drip-panel {
    -webkit-border-radius: 6px 6px 0 0;
       -moz-border-radius: 6px 6px 0 0;
            border-radius: 6px 6px 0 0;
  }

  .drip-tab.side.left .drip-content > div.drip-panel {
    -webkit-border-radius: 0 6px 6px 0;
       -moz-border-radius: 0 6px 6px 0;
            border-radius: 0 6px 6px 0;
  }

  .drip-tab.side.right .drip-content > div.drip-panel  {
    -webkit-border-radius: 6px 0 0 6px;
       -moz-border-radius: 6px 0 0 6px;
            border-radius: 6px 0 0 6px;
  }

  */

  /* === Powered By === */

  .drip-tab .drip-powered-by {
    padding: 8px 8px 3px;
    font-family: Helvetica, Arial, sans-serif;
    text-align: left;
    font-weight: bold;
    font-size: 10px;
    line-height: 16px;
    color: #ffffff;
    letter-spacing: 1px;
    text-align: center;
    text-transform: uppercase;
  }

  .drip-tab .drip-powered-by a {
    color: #ffffff !important;
    text-decoration: underline !important;
    letter-spacing: 1px;
  }

  /* === Content Headings & Paragraphs === */

  .drip-tab .drip-content h3 {
    display: block;
    margin: 0 20px 0 0 !important;
    padding: 0 0 15px 0 !important;
    /* font-size: 20px !important; */
    /* line-height: 26px !important; */
    line-height: 1.3 !important;
    font-weight: bold !important;
    text-align: left !important;
    color: #4477bd !important;
    clear: none !important;
  }

  .drip-tab .drip-content p.description {
    margin: 0;
    padding: 0 0 16px 0;
    /* font-size: 13px; */
    line-height: 1.6;
    text-align: left;
  }

  .drip-tab .drip-content a.drip-close {
    font-family: Arial, Helvetica, sans-serif;
    margin: -1px 0 0 0;
    float: right;
    font-size: 28px;
    line-height: 15px;
    font-weight: normal;
    color: #333;
    opacity: 0.4;
  }

  .drip-tab .drip-content a.drip-close:hover {
    text-decoration: none;
    cursor: pointer;
    opacity: 0.6;
  }

  /* === Content Subscribe Form === */

  .drip-tab form {
    margin: 0 !important;
    padding: 0 !important;
  }

  .drip-tab dl {
    display: block;
    margin: 0;
    padding: 0;
  }

  .drip-tab dl dt {
    display: block;
    padding: 0 0 5px 0;
    /* font-size: 13px; */
    font-weight: bold;
  }

  .drip-tab dl.no-labels dt {
    display: none;
  }

  .drip-tab dl dd {
    display: block;
    padding: 0 0 10px 0;
  }

  .drip-tab input[type='text'], 
  .drip-tab input[type='email'] {
    margin: 0 !important;
    padding: 6px !important;
    height: auto !important;
    width: 100% !important;
    /* font-size: 14px !important; */
    color: #333 !important;
    border: 1px solid #c4c4c4 !important;
    -webkit-box-shadow: inset 0 0 3px rgba(0,0,0,0.18) !important;
       -moz-box-shadow: inset 0 0 3px rgba(0,0,0,0.18) !important;
            box-shadow: inset 0 0 3px rgba(0,0,0,0.18) !important;
    -webkit-border-radius: 4px !important;
       -moz-border-radius: 4px !important;
            border-radius: 4px !important;
    -webkit-box-sizing: border-box !important;
       -moz-box-sizing: border-box !important;
        -ms-box-sizing: border-box !important;
            box-sizing: border-box !important;
    background-image: none !important;
    min-width: 0 !important;
    min-height: 0 !important;
  }

  .drip-tab input[type='text']:focus,
  .drip-tab input[type='email']:focus {
    border: 1px solid #a4a4a4;
    outline: 0;
    background-image: none;
  }

  .drip-tab.mobile input[type='text'], 
  .drip-tab.mobile input[type='email'] {
    font-size: 16px;
  }

  .drip-tab .drip-errors {
    padding: 5px 0 0 0;
    /* font-size: 13px; */
    font-weight: normal;
    color: red;
  }

  .drip-tab input[type='submit'] {
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif !important;
    /* background-color: #4477bd; */
    padding: 3px 12px !important;
    color: #ffffff !important;
    font-weight: bold !important;
    /* font-size: 12px !important; */
    line-height: 1.6 !important;
    border: 0 !important;
    -webkit-border-radius: 15px !important;
       -moz-border-radius: 15px !important;
            border-radius: 15px !important;
    cursor: pointer !important;
    background-image: none !important;
    min-width: 0 !important;
    min-height: 0 !important;
    height: auto;
  }

  .drip-tab input[type='submit']:hover {
    background-image: none !important;
  }

  .drip-tab input[type='submit']:active {
    background-image: none !important;
  }
</style><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_close_icon:active{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_loader{background-color:#f6f7f8;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3a5795;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #2f477a;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f6f7f8;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(https://fbstatic-a.akamaihd.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}</style></head>

<body class="collapse-sidebar sidebar-footer" data-twttr-rendered="true">

  <header role="banner"><hgroup>
	<!--<div style='float:left;display:inline-block;'>-->
	<div class="header-image">
	  <img src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/mugshot.jpg" width="128">
  </div>
<!--  <div style='float:left;display:inline-block;'>-->
  <div class="header-wrapper">
		<h1><a href="http://glennstovall.com/">Glenn Stovall</a></h1>
		
		  <br>
      <h2 style="display:inline-block;">Metrics-Driven Business and Software Design</h2>
		
  </div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://glennstovall.com/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:glennstovall.com">
    <input class="search" type="text" name="q" results="0" placeholder="Search">
  </fieldset><fieldset class="mobile-nav"><select><option value="">Navigate…</option><option value="http://glennstovall.com/">» Home</option><option value="http://glennstovall.com/freelancer-knowledge-base">» For Freelancers</option><option value="http://glennstovall.com/blog/">» Articles</option><option value="http://glennstovall.com/case-studies">» Case Studies</option><option value="http://glennstovall.com/consulting">» Consulting</option><option value="http://glennstovall.com/contact">» Contact</option><option value="http://glennstovall.com/atom.xml">» RSS</option></select></fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="http://glennstovall.com/">Home</a></li>
  <li><a href="http://glennstovall.com/freelancer-knowledge-base">For Freelancers</a></li>
  <li><a href="http://glennstovall.com/blog/">Articles</a></li>
  <li><a href="http://glennstovall.com/case-studies">Case Studies</a></li>
  <li><a href="http://glennstovall.com/consulting">Consulting</a></li>
  <li><a href="http://glennstovall.com/contact">Contact</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Writing Cron Jobs and Command Line Scripts in CodeIgniter</h1>
    
    
      <p class="meta-timestamp">
        








  


<time datetime="2013-01-07T23:58:00-05:00" pubdate="" data-updated="true">Jan 7<span>th</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p><img class="left" src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/codeigniter.jpg" width="260">
Building a command line interface into your application can be a way to add extra utility to you application. Adding cron jobs (a.k.a. scheduled tasks) to your CodeIgniter application can provide extra utility. In this article we’ll show you how to set up both in a CodeIgniter application by writing a simple appointment reminder, which will remind people if they have an appointment scheduled a day in advance.</p>

<!-- more -->


<h3>Running Code Via The Command Line</h3>

<p>All CodeIgniter controller methods can be accessed via the command line. Let’s start with a simple controller:</p>

<figure class="code"><figcaption><span>application/controllers/hello.php  </span></figcaption>
 <div class="highlight"><table><tbody><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
</pre></td><td class="code"><pre><code class="php"><span class="line"><span class="cp">&lt;?php</span>
</span><span class="line"><span class="k">class</span> <span class="nc">Hello</span> <span class="k">extends</span> <span class="nx">CI_Controller</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">  <span class="k">public</span> <span class="k">function</span> <span class="nf">index</span><span class="p">()</span>
</span><span class="line">  <span class="p">{</span>
</span><span class="line">    <span class="k">echo</span> <span class="s2">"Hello, World"</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">
</span><span class="line">  <span class="k">public</span> <span class="k">function</span> <span class="nf">greet</span><span class="p">(</span><span class="nv">$name</span><span class="p">)</span>
</span><span class="line">  <span class="p">{</span>
</span><span class="line">   <span class="k">echo</span> <span class="s2">"Hello, </span><span class="si">$name</span><span class="s2">"</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></tbody></table></div></figure>


<p>From the root application forlder, to call the index function we can do the following:</p>

<pre><code>php index.php hello
</code></pre>

<p>By passing the name of the controller to <code>index.php</code> , we are able to invoke the index method of the controller. If we want to invoke other methods, we can pass them as the next aguments. any arguments proceeding those will be passed as arguments to the method we are calling. So, to get the output of “Hello, Glenn” from this controller, we would run the following:</p>

<pre><code>php index.php hello greet Glenn
</code></pre>

<h3>Detecting command line requests</h3>

<p>You may want to write controller methods that behave differently based on wether or not they are accessed via the command line. you can do this by using the <a href="http://ellislab.com/codeigniter/user-guide/libraries/input.html">input library</a>, which has a function called <code>is_cli_request()</code> to detect if a request to a controller is from the command line or not. Here is an example if you want to make a method only accesible via command line:</p>

<figure class="code"><figcaption><span>application/controllers/hello.php  </span></figcaption>
 <div class="highlight"><table><tbody><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class="php"><span class="line"><span class="x">  </span><span class="cp">&lt;?php</span>
</span><span class="line">  <span class="k">public</span> <span class="k">function</span> <span class="nf">greet</span><span class="p">(</span><span class="nv">$name</span><span class="p">)</span>
</span><span class="line">  <span class="p">{</span>
</span><span class="line">      <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">input</span><span class="o">-&gt;</span><span class="na">is_cli_request</span><span class="p">())</span>
</span><span class="line">      <span class="p">{</span>
</span><span class="line">          <span class="k">echo</span> <span class="s2">"greet my only be accessed from the command line"</span><span class="p">;</span>
</span><span class="line">          <span class="k">return</span><span class="p">;</span>
</span><span class="line">      <span class="p">}</span>
</span><span class="line">      <span class="k">echo</span> <span class="s2">"Hello, </span><span class="si">$name</span><span class="s2">"</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
</span><span class="line">  <span class="p">}</span>
</span></code></pre></td></tr></tbody></table></div></figure>


<h3>Setting up the Appointment Reminder</h3>

<p>Let’s say we have a system where people can book appointments. We would like to send them a reminder a day in advance that they have an appointment coming up. In this tutorial we will set up a command line script
Let’s set up our appointment reminder files. First let’s start by building the table.</p>

<figure class="code"> <div class="highlight"><table><tbody><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="mysql"><span class="line"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="nf">appointments</span> <span class="p">(</span>
</span><span class="line">  <span class="n">id</span> <span class="kt">int</span> <span class="kp">auto_increment</span> <span class="k">primary</span> <span class="k">key</span><span class="p">,</span>
</span><span class="line">  <span class="n">email</span> <span class="kt">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span> <span class="k">not</span> <span class="no">null</span> <span class="k">default</span> <span class="s1">''</span><span class="p">,</span>
</span><span class="line">  <span class="n">start_time</span> <span class="kt">datetime</span>
</span><span class="line">  <span class="n">is_reminded</span> <span class="kt">tinyint</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="k">not</span> <span class="no">null</span> <span class="k">default</span> <span class="mi">0</span>
</span><span class="line"><span class="p">);</span>
</span></code></pre></td></tr></tbody></table></div></figure>


<p>Now, we’ll write a model that will perform the two primary data functions we need for this appointment reminder: a way to fetch all appointments on a particular day, and a way to mark them as appointments that have recieved reminders, so that we do not send multiple reminder emails:</p>

<figure class="code"><figcaption><span>application/models/appointment_model.php  </span></figcaption>
 <div class="highlight"><table><tbody><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
</pre></td><td class="code"><pre><code class="php"><span class="line"><span class="cp">&lt;?php</span>
</span><span class="line"><span class="k">class</span> <span class="nc">Appointment_model</span> <span class="k">extends</span> <span class="nx">CI_Model</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">  <span class="k">public</span> <span class="k">function</span> <span class="nf">get_days_appointments</span><span class="p">(</span><span class="nv">$day</span><span class="p">)</span>
</span><span class="line">  <span class="p">{</span>
</span><span class="line">    <span class="nv">$day_start</span> <span class="o">=</span> <span class="nb">date</span><span class="p">(</span><span class="s1">'Y-m-d 00:00:00'</span><span class="p">,</span> <span class="nv">$day</span><span class="p">);</span>
</span><span class="line">    <span class="nv">$day_end</span> <span class="o">=</span> <span class="nb">date</span><span class="p">(</span><span class="s1">'Y-m-d 23:59:59'</span><span class="p">,</span> <span class="nv">$day</span><span class="p">);</span>
</span><span class="line">    <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">select</span><span class="p">(</span><span class="s1">'*'</span><span class="p">)</span>
</span><span class="line">      <span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s1">'appointments'</span><span class="p">)</span>
</span><span class="line">      <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'start_time &lt;'</span><span class="p">,</span> <span class="nv">$day_start</span><span class="p">)</span>
</span><span class="line">      <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'start_time &gt;'</span><span class="p">,</span> <span class="nv">$day_end</span><span class="p">)</span>
</span><span class="line">      <span class="o">-&gt;</span><span class="na">get</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">result</span><span class="p">();</span>
</span><span class="line">      
</span><span class="line">  <span class="p">}</span>
</span><span class="line">
</span><span class="line">  <span class="k">public</span> <span class="k">function</span> <span class="nf">mark_reminded</span><span class="p">(</span><span class="nv">$appointment_id</span><span class="p">)</span>
</span><span class="line">  <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="s1">'id'</span><span class="p">,</span> <span class="nv">$appointment_id</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">(</span><span class="s1">'appointments'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">'is_reminded'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">));</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></tbody></table></div></figure>


<p>Now that we can handle all the data transactions through the model. Let’s write a controller so we can access this through the command line. In this example, we will put the logic in the <code>index()</code> function, since that is all this controller does. Personally, I like to put all of my command line scripts inside a folder named ‘cli’ inside of the controllers folder.</p>

<figure class="code"><figcaption><span>application/controllers/cli/reminders.php  </span></figcaption>
 <div class="highlight"><table><tbody><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
</pre></td><td class="code"><pre><code class="php"><span class="line"><span class="cp">&lt;?php</span>
</span><span class="line"><span class="k">class</span> <span class="nc">Reminders</span> <span class="k">extends</span> <span class="nx">CI_Controller</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">
</span><span class="line">  <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">()</span>
</span><span class="line">  <span class="p">{</span>
</span><span class="line">    <span class="k">parent</span><span class="o">::</span><span class="na">__construct</span><span class="p">();</span>
</span><span class="line">      <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">'input'</span><span class="p">);</span>
</span><span class="line">    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">'email'</span><span class="p">);</span>
</span><span class="line">    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">model</span><span class="p">(</span><span class="s1">'Appointment_model'</span><span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="k">public</span> <span class="k">function</span> <span class="nf">index</span><span class="p">()</span>
</span><span class="line">  <span class="p">{</span>
</span><span class="line">    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">input</span><span class="o">-&gt;</span><span class="na">is_cli_request</span><span class="p">())</span>
</span><span class="line">  <span class="p">{</span>
</span><span class="line">      <span class="k">echo</span> <span class="s2">"This script can only be accessed via the command line"</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
</span><span class="line">      <span class="k">return</span><span class="p">;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="nv">$timestamp</span> <span class="o">=</span> <span class="nb">strtotime</span><span class="p">(</span><span class="s2">"+1 days"</span><span class="p">);</span>
</span><span class="line">  <span class="nv">$appointments</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Appointment_model</span><span class="o">-&gt;</span><span class="na">get_days_appointments</span><span class="p">(</span><span class="nv">$timestamp</span><span class="p">);</span>
</span><span class="line">  <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$appointments</span><span class="p">))</span>
</span><span class="line">  <span class="p">{</span>
</span><span class="line">      <span class="k">foreach</span><span class="p">(</span><span class="nv">$appointments</span> <span class="k">as</span> <span class="nv">$appointment</span><span class="p">)</span>
</span><span class="line">      <span class="p">{</span>
</span><span class="line">          <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">email</span><span class="o">-&gt;</span><span class="na">set_newline</span><span class="p">(</span><span class="s2">"</span><span class="se">\r\n</span><span class="s2">"</span><span class="p">);</span>
</span><span class="line">          <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">email</span><span class="o">-&gt;</span><span class="na">to</span><span class="p">(</span><span class="nv">$appointment</span><span class="o">-&gt;</span><span class="na">email</span><span class="p">);</span>
</span><span class="line">          <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">email</span><span class="o">-&gt;</span><span class="na">from</span><span class="p">(</span><span class="s2">"youremail@example.com"</span><span class="p">);</span>
</span><span class="line">          <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">email</span><span class="o">-&gt;</span><span class="na">subject</span><span class="p">(</span><span class="s2">"Appointment Reminder"</span><span class="p">);</span>
</span><span class="line">          <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">email</span><span class="o">-&gt;</span><span class="na">message</span><span class="p">(</span><span class="s2">"You have an appointment tomorrow"</span><span class="p">);</span>
</span><span class="line">          <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">email</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
</span><span class="line">          <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Appointment_model</span><span class="o">-&gt;</span><span class="na">mark_reminded</span><span class="p">(</span><span class="nv">$appointment</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">);</span>
</span><span class="line">      <span class="p">}</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></tbody></table></div></figure>


<p>whenever this command line script is called, it will set an email to all people who have an appointment the next day. It will also mark there appointments as reminded to insure that we do not send multiple emails to the same person for the same appointment.</p>

<h3>Setting up a Cron Job (Scheduled Task)</h3>

<p>We would like to call this command line script once a day, at 1pm. You can edit the cron jobs your server runs with the following command:</p>

<pre><code>crontab -e
</code></pre>

<p>each line of the crontab file takes 6 arguments, which are, in order:</p>

<ul>
<li>minutes (0 to 59)</li>
<li>hours (0 to 23)</li>
<li>day of month (1 to 31)</li>
<li>month (1 to 12)</li>
<li>day of week (0 - 6)</li>
<li>command (command to be executed)</li>
</ul>


<p>you can use commas to seperate multiple values <em>(so <code>1,3,5</code> in the day of week field will be every Monday, Wednesday, and Friday)</em> , dashes to represent ranges <em>(so <code>09-17</code> in the hour field means every hour on the hour from 9am to 5pm)</em> and * for wildcards. <em>(so * in the hours fields means every hour on the hour)</em></p>

<p>Since we would like this script to run once a day at 1pm, our new entry into the crontab file would look like this:</p>

<pre><code>0 13 * * * php [application_path]/index.php cli/reminders
</code></pre>

<p>And now we can send out appointment reminders once a day. <a href="http://www.thegeekstuff.com/2009/06/15-practical-crontab-examples/">This Article</a> Has a lot of good examples for other ways to set up your scheduled tasks.</p>

<p>I also have a small helper file I use in CodeIgniter to make formatting output easier. You can check it out over on Github.</p>

<p><a href="https://github.com/GSto/cli_helper">cli_helper on Github</a></p>

<h2>Making Complex Apps is Easy. Making them Simple is Hard.</h2>

<p>If you want to learn more about building more reliable, scalable CodeIgniter applications, you can download my free white paper, <a href="http://glennstovall.com/products/reliable-codeigniter">How to Build Maintainable, Scalable Applications With CodeIgniter</a>.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Glenn Stovall</span></span>

      








  


<time datetime="2013-01-07T23:58:00-05:00" pubdate="" data-updated="true">Jan 7<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class="category" href="http://glennstovall.com/blog/categories/codeigniter/">codeigniter</a>, <a class="category" href="http://glennstovall.com/blog/categories/php/">php</a>, <a class="category" href="http://glennstovall.com/blog/categories/programming/">programming</a>, <a class="category" href="http://glennstovall.com/blog/categories/terminal/">terminal</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <iframe id="twitter-widget-0" scrolling="no" frameborder="0" allowtransparency="true" src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/tweet_button.20ed5cfd7315475c9d1d523194b1645f.en.html" class="twitter-share-button twitter-tweet-button twitter-share-button twitter-count-horizontal" title="Twitter Tweet Button" data-twttr-rendered="true" style="width: 108px; height: 20px;"></iframe>
  
  
  <div id="___plusone_0" style="text-indent: 0px; margin: 0px; padding: 0px; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 90px; height: 20px; background: transparent;"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 90px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 20px;" tabindex="0" vspace="0" width="100%" id="I0_1429334235781" name="I0_1429334235781" src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/fastbutton.html" data-gapiattached="true" title="+1"></iframe></div>
  
  
    <div class="fb-like fb_iframe_widget" data-send="true" data-width="450" data-show-faces="false" fb-xfbml-state="rendered" fb-iframe-plugin-query="app_id=212934732101925&amp;container_width=1090&amp;href=http%3A%2F%2Fglennstovall.com%2Fblog%2F2013%2F01%2F07%2Fwriting-cron-jobs-and-command-line-scripts-in-codeigniter%2F&amp;locale=en_US&amp;sdk=joey&amp;send=true&amp;show_faces=false&amp;width=450"><span style="vertical-align: bottom; width: 450px; height: 20px;"><iframe name="f3f0c1d1b8" width="450px" height="1000px" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" title="fb:like Facebook Social Plugin" src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/like.html" style="border: none; visibility: visible; width: 450px; height: 20px;" class=""></iframe></span></div>
  
</div>

    

    <p class="meta">
      
        <a class="basic-alignment left" href="http://glennstovall.com/blog/2012/10/30/terminals-for-absolute-beginners-part-3/" title="Previous Post: Terminals for Absolute Beginners: Part 3">« Terminals for Absolute Beginners: Part 3</a>
      
      
        <a class="basic-alignment right" href="http://glennstovall.com/blog/2013/02/18/5-tips-for-more-accurate-estimates/" title="Next Post: 5 Tips for More Accurate Estimates">5 Tips for More Accurate Estimates »</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    
  
</aside>


    </div>
  </div>
  <footer role="contentinfo">
<p class="credit">
  <span class="credit">Powered by <a href="http://octopress.org/">Octopress</a></span>
  <br>
  © 2015 - Glenn Stovall
</p>
<p class="social-links">
  <!-- courtesy of http://simpleicons.org/ -->
  <a href="http://www.twitter.com/gsto" target="_blank" class="twitter-link">
    <img src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/twitter-64.png" alt="Glenn Stovall on Twitter"> 
  </a>

  <a href="http://linkedin.com/in/glennstovall" target="_blank" class="linkedin-link">
    <img src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/linkedin-64.png" alt="Glenn Stovall on LinkedIn">
  </a>
  <a href="http://github.com/gsto" target="_blank" class="github-link">
    <img src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/github-64.png" alt="Glenn Stovall on Github">
  </a>
  <a href="http://careers.stackoverflow.com/glennstovall" target="_blank" class="stackoverflow-link">
    <img src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/stackoverflow-64.png" alt="Glenn Stovall CV">
  </a>
</p>

</footer>
  



<div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="fb_xdm_frame_http" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" id="fb_xdm_frame_http" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/KvoNGODIqPG.html" style="border: none;"></iframe><iframe name="fb_xdm_frame_https" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" id="fb_xdm_frame_https" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/KvoNGODIqPG.html" style="border: none;"></iframe></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="f20ac8c914" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/ping.html" style="display: none;"></iframe></div></div></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




<script type="text/javascript">
  var _dcq = _dcq || [];
  var _dcs = _dcs || {}; 
  _dcs.account = '5248425';
  
  (function() {
    var dc = document.createElement('script');
    dc.type = 'text/javascript'; dc.async = true; 
    dc.src = '//tag.getdrip.com/5248425.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(dc, s);
  })();
</script>





<style>#content > #center > .dose > .dosesingle,#content > #right > .dose > .dosesingle
{display:none !important;}</style><iframe name="oauth2relay934773369" id="oauth2relay934773369" src="./Writing Cron Jobs and Command Line Scripts in CodeIgniter - Glenn Stovall_files/postmessageRelay.html" tabindex="-1" style="width: 1px; height: 1px; position: absolute; top: -100px;"></iframe><div class="drip-tab-container">
  <div id="drip-2911" class="drip-tab bottom left" style="height: 467px; left: 40px; bottom: -426px;">
    <div id="drip-header-2911" class="drip-header">
      <a href="http://glennstovall.com/blog/2013/01/07/writing-cron-jobs-and-command-line-scripts-in-codeigniter/#" id="drip-toggle-2911" class="drip-toggle">
        <h2 id="drip-teaser-2911">Price Your Serivces More Effectively</h2>
        <span id="drip-tab-up-2911" class="arrow up" style="display: block;"></span>
        <span id="drip-tab-down-2911" class="arrow down" style="display: none;"></span>
      </a>
    </div>
    <div id="drip-content-2911" class="drip-content drip-clearfix">
      <div id="drip-form-panel-2911" class="drip-panel" style="display: block;">
        <a id="drip-close-2911" class="drip-close">×</a>
        <h3 id="drip-content-header-2911">Price Your Serivces More Effectively</h3>
        <div id="drip-scroll-2911" class="drip-scroll" style="height: auto;">
          <p class="description">Get a free copy of "The Freelance Pricing Handbook". Figure out how much to charge for your services. Learn when to bill hourly, when to bill a flat rate, and when to do something completely different. Get paid what you are worth.</p>
          <form id="drip-form-2911">
            <div style="display: none">
              <input type="hidden" name="form_id" value="2911">
            </div>
            <dl class="no-labels">
              
                <dt>First Name</dt>
                <dd class="drip-clearfix">
                  
                    <input type="text" name="fields[first_name]" value="" placeholder="First Name">
                    <div id="drip-errors-for-custom-fields-first-name-2911" class="drip-errors"></div>
                  
                </dd>
              
                <dt>Email Address</dt>
                <dd class="drip-clearfix">
                  
                    <input type="email" name="fields[email]" value="" placeholder="Email Address">
                    <div id="drip-errors-for-email-2911" class="drip-errors"></div>
                  
                </dd>
              
            </dl>
            <div class="form-controls">
              <input type="submit" name="submit" value="Download The Book" id="drip-submit-2911">
            </div>
          </form>
        </div>
      </div>

      <div id="drip-success-panel-2911" class="drip-success drip-panel drip-clearfix" style="display: none;">
        <a id="drip-hide-2911" class="drip-close">×</a>
        <h3>Here's your copy of "The Freelance Pricing Handbook"</h3>
        <p class="description">Please check your email and click the link provided to download your copy of the book.</p>
      </div>

      
        <div id="drip-powered-by" class="drip-powered-by">
          Powered By 
          
            <a href="http://mbsy.co/9HJHn" target="_blank">Drip</a>
          
        </div>
      
    </div>
  </div>
</div></body></html>